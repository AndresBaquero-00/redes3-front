(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(3400)}])},3400:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return N}});var n=i(5893),l=i(7294),s=i(9008),o=i.n(s),a=i(7357),r=i(5195),d=i(7710),c=i(2763),x=i(5121);let u=x.Z.create({baseURL:"http://192.168.0.50:3000"});var p=i(5861),h=i(3252);let v=e=>{let{icon:t}=e;return(0,n.jsx)(a.Z,{sx:{backgroundColor:"#F3F2F2",padding:"10px",borderRadius:"50%",minWidth:"50px",minHeight:"50px",display:"flex",justifyContent:"center",alignItems:"center"},children:t})},j=e=>{var t;let{city:i,country:s,datetime:o}=e,r=(0,l.useMemo)(()=>o.split("T"),[o]);return(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(p.Z,{sx:{fontSize:"30px",fontWeight:600},children:[i,", ",s]}),(0,n.jsx)(p.Z,{sx:{color:"#777777",fontWeight:400},children:"Informaci\xf3n sobre el clima y el ambiente."})]}),(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,n.jsxs)(a.Z,{component:"span",sx:{fontWeight:"500",color:"#444444"},children:[r.at(0),"  ",null===(t=r.at(1))||void 0===t?void 0:t.split(".").at(0)]}),(0,n.jsx)(v,{icon:(0,n.jsx)(h.Z,{sx:{color:"#444444"}})})]})]})};var f=i(4073),m=i(5894),g=i(7355),Z=i(443),y=i(2844);let w={200:{icon:(0,n.jsx)(f.Z,{}),desc:"Tormenta"},600:{icon:(0,n.jsx)(m.Z,{}),desc:"Nieve"},800:{icon:(0,n.jsx)(g.Z,{}),desc:"Despejado"},80:{icon:(0,n.jsx)(Z.Z,{}),desc:"Nubado"}},b=e=>{let{code:t,temp:i,feels_like:s}=e,o=(0,l.useMemo)(()=>{var e;return t>800?w[80]:t>=200&&t<300?w[200]:t>=600&&t<700?w[600]:null!==(e=w[t])&&void 0!==e?e:{icon:(0,n.jsx)(y.Z,{}),desc:""}},[t]);return(0,n.jsxs)(a.Z,{sx:{flex:2,backgroundColor:"#F3F2F2",borderRadius:"10px",padding:"25px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:"20px"},children:[l.cloneElement(o.icon,{sx:{width:"100px",height:"100px",color:"#EC6E4C"}}),(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(p.Z,{variant:"h2",children:[i,(0,n.jsx)("sup",{children:"\xba"}),"C"]}),(0,n.jsxs)(p.Z,{sx:{color:"#777777",fontWeight:400},children:["Real Feel - ",s,(0,n.jsx)("sup",{children:"\xba"}),"C"]})]})]}),(0,n.jsx)(p.Z,{variant:"h4",sx:{fontWeight:600},children:o.desc})]})},C=e=>{let{title:t,value:i,icon:l}=e;return(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:"30px",width:"100%"},children:[(0,n.jsx)(v,{icon:l}),(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(p.Z,{sx:{fontWeight:600,color:"#444444"},children:t}),(0,n.jsx)(p.Z,{sx:{fontWeight:600,fontSize:"25px",color:"black"},children:i})]})]})},_=e=>{let{title:t,value:i,color:l,units:s=!0}=e;return(0,n.jsxs)(a.Z,{sx:{padding:"30px",borderRadius:"5px",backgroundColor:null!=l?l:"#E3EA46",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",minWidth:"200px"},children:[(0,n.jsx)(p.Z,{variant:"h6",sx:{fontWeight:400},children:t}),(0,n.jsxs)(p.Z,{sx:{fontWeight:500,fontSize:"40px",color:"black"},children:[i,s&&(0,n.jsx)("span",{style:{fontSize:"15px"},children:"Î¼g/m3"})]})]})};var k=i(5152),W=i.n(k);let E=W()(()=>Promise.all([i.e(279),i.e(229)]).then(i.bind(i,7229)),{loadableGenerated:{webpack:()=>[7229]},ssr:!1}),F={chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"\xbaC"}},fill:{opacity:1}},I=e=>{let{data:t}=e;return(0,n.jsx)(a.Z,{children:(0,n.jsx)(E,{options:{...F,xaxis:{categories:t.map(e=>{var t;let{datetime:i}=e,n=i.split("T");return"".concat(n.at(0),"  ").concat(null===(t=n.at(1))||void 0===t?void 0:t.split(".").at(0))}).reverse()}},series:[{name:"Temperatura",data:t.map(e=>{let{weather:t}=e;return t.temp}).reverse()}],type:"bar",height:350})})};function N(){var e,t,i,s,x,p,h,v,f,m,g,Z,y,w,k,W,E,F,N,P;let[T,O]=(0,l.useState)([]);return(0,l.useEffect)(()=>{u.get("/api/v2/list").then(e=>{O(e.data.data)})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Proyecto Final Redes"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)(a.Z,{component:"main",sx:{width:"100vw",height:"100vh",overflow:"auto",padding:"30px 100px"},children:(0,n.jsxs)(a.Z,{sx:{width:"100%"},children:[(0,n.jsx)(j,{city:null!==(k=null===(e=T.at(0))||void 0===e?void 0:e.city)&&void 0!==k?k:"",country:null!==(W=null===(t=T.at(0))||void 0===t?void 0:t.country)&&void 0!==W?W:"",datetime:null!==(E=null===(i=T.at(0))||void 0===i?void 0:i.datetime)&&void 0!==E?E:""}),(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",marginTop:"30px",gap:"120px"},children:[(0,n.jsx)(b,{code:null!==(F=null===(s=T.at(0))||void 0===s?void 0:s.weather.code)&&void 0!==F?F:0,temp:null!==(N=null===(x=T.at(0))||void 0===x?void 0:x.weather.temp)&&void 0!==N?N:0,feels_like:null!==(P=null===(p=T.at(0))||void 0===p?void 0:p.weather.feels_like)&&void 0!==P?P:0}),(0,n.jsxs)(a.Z,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"20px"},children:[(0,n.jsx)(C,{title:"Humedad",value:(null===(h=T.at(0))||void 0===h?void 0:h.weather.humidity)+" %",icon:(0,n.jsx)(r.Z,{sx:{color:"#444444"}})}),(0,n.jsx)(C,{title:"Presi\xf3n",value:(null===(v=T.at(0))||void 0===v?void 0:v.weather.pressure)+" hPa",icon:(0,n.jsx)(d.Z,{sx:{color:"#444444"}})}),(0,n.jsx)(C,{title:"Viento",value:(null===(f=T.at(0))||void 0===f?void 0:f.wind.speed)+" m/s",icon:(0,n.jsx)(c.Z,{sx:{color:"#444444"}})})]})]}),(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",margin:"60px",gap:"20px"},children:[(0,n.jsx)(_,{title:"CO",value:null===(m=T.at(0))||void 0===m?void 0:m.aq.co}),(0,n.jsx)(_,{title:"O3",value:null===(g=T.at(0))||void 0===g?void 0:g.aq.o3,color:"#36BCBA"}),(0,n.jsx)(_,{title:"PM 2.5",value:null===(Z=T.at(0))||void 0===Z?void 0:Z.aq.pm2_5,color:"#F65606"}),(0,n.jsx)(_,{title:"NO2",value:null===(y=T.at(0))||void 0===y?void 0:y.aq.no2,color:"#304C89"}),(0,n.jsx)(_,{title:"GAS",value:(null===(w=T.at(0))||void 0===w?void 0:w.gas)===0?"Bueno":"Malo",color:"#DB5461",units:!1})]}),(0,n.jsx)(I,{data:T})]})})]})}}},function(e){e.O(0,[155,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);